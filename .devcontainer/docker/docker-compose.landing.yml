services:
  landing:
    image: ghcr.io/hallboard-team/node-angular:${NODE_VERSION:-24}-${ANGULAR_VERSION:-21}
    container_name: ${CONTAINER_NAME_LANDING:-fe-landing}

    working_dir: /workspaces/app

    volumes:
      # mount repo
      - ../../:/workspaces/app:Z
      # shared VS Code server cache
      - ${HOME}/.cache/vscode-server-shared:/home/vscode/.vscode-server-shared:Z

    environment:
      - VSCODE_SERVER_DIR=/home/vscode/.vscode-server-shared

    ports:
      # landing â†’ http://localhost:4201 (container:4200)
      - "${PORT_LANDING:-4201}:4200"

    command: >
      bash -c "
        node -v &&
        ng version || true &&
        sleep infinity
      "
